function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+ZWi":function(e,t,i){"use strict";i.r(t),i.d(t,"FavoritesModule",(function(){return I}));var o=i("tyNb"),n=i("Q9yQ"),r=i("pLZG"),s=i("fXoL"),a=i("PFzu"),c=i("69fS"),v=i("IfdK"),l=i("iXKo"),d=i("ofXK"),u=i("gGFE");function f(e,t){1&e&&s["\u0275\u0275element"](0,"app-movie-card-vertical",3),2&e&&s["\u0275\u0275property"]("movie",t.$implicit)}function g(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"div",1),s["\u0275\u0275template"](1,f,1,1,"app-movie-card-vertical",2),s["\u0275\u0275elementEnd"]()),2&e){var i=s["\u0275\u0275nextContext"]();s["\u0275\u0275advance"](1),s["\u0275\u0275property"]("ngForOf",i.movies)}}var p,h,m,b=[{path:"",component:(p=function(){function e(t,i,n,s,a){var c=this;_classCallCheck(this,e),this.redux=t,this.favoriteMoviesService=i,this.sessionService=n,this.logger=s,this.movies=[],this.allMoviesAllDataError="",this.place="favorites",this.navigationId=0,this.restoredStateId=0,a.events.pipe(Object(r.a)((function(e){return e instanceof o.b}))).subscribe((function(e){console.group("NavigationStart Event"),c.logger.debug("navigation id: ",e.id),c.navigationId=e.id,c.logger.debug("route: ",e.url),c.logger.debug("trigger: ",e.navigationTrigger),e.restoredState&&(c.restoredStateId=e.restoredState.navigationId,c.logger.warn("restoring navigation id: ",e.restoredState.navigationId)),c.GetSession(e.navigationTrigger),console.groupEnd()}))}return _createClass(e,[{key:"GetSession",value:function(e){var t=[];"popstate"===e&&(t=this.sessionService.retrieveSession("favorites"))&&t.length>0?(this.logger.debug("movies to get: ",t),this.redux.dispatch({type:n.a.GetFavoriteMovies,payload:t}),this.movies=this.redux.getState().favoriteMovies,this.logger.debug("GetSessionFavorites: ",this.movies)):this.favoriteMoviesService.GetAllMovies()}},{key:"ngOnInit",value:function(){var e=this;this.redux.dispatch({type:n.a.SetPlace,payload:this.place}),this.unsubscribe=this.redux.subscribe((function(){e.movies=e.redux.getState().favoriteMovies})),this.movies=this.redux.getState().favoriteMovies}},{key:"ngOnDestroy",value:function(){this.movies.length>0&&this.sessionService.storeSession("favorites",this.movies),this.unsubscribe()}}]),e}(),p.\u0275fac=function(e){return new(e||p)(s["\u0275\u0275directiveInject"](a.NgRedux),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](v.a),s["\u0275\u0275directiveInject"](l.a),s["\u0275\u0275directiveInject"](o.c))},p.\u0275cmp=s["\u0275\u0275defineComponent"]({type:p,selectors:[["app-favorites"]],decls:1,vars:1,consts:[["class","row justify-content-md-center",4,"ngIf"],[1,"row","justify-content-md-center"],["class","col-md-auto center-block col-md-3",3,"movie",4,"ngFor","ngForOf"],[1,"col-md-auto","center-block","col-md-3",3,"movie"]],template:function(e,t){1&e&&s["\u0275\u0275template"](0,g,2,1,"div",0),2&e&&s["\u0275\u0275property"]("ngIf",t.movies&&t.movies.length>0)},directives:[d.i,d.h,u.a],styles:[""]}),p)}],y=((h=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:h}),h.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||h)},imports:[[o.e.forChild(b)],o.e]}),h),S=i("Bux+"),I=((m=function e(){_classCallCheck(this,e)}).\u0275mod=s["\u0275\u0275defineNgModule"]({type:m}),m.\u0275inj=s["\u0275\u0275defineInjector"]({factory:function(e){return new(e||m)},imports:[[y,S.a]]}),m)}}]);